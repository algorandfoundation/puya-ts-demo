/* eslint-disable */
/**
 * This file was automatically generated by @algorandfoundation/algokit-client-generator.
 * DO NOT MODIFY IT BY HAND.
 * requires: @algorandfoundation/algokit-utils: ^2
 */
import * as algokit from "@algorandfoundation/algokit-utils";
import type {
  AppCallTransactionResult,
  AppCallTransactionResultOfType,
  CoreAppCallArgs,
  RawAppCallArgs,
  AppState,
  TealTemplateParams,
  ABIAppCallArg,
} from "@algorandfoundation/algokit-utils/types/app";
import type {
  AppClientCallCoreParams,
  AppClientCompilationParams,
  AppClientDeployCoreParams,
  AppDetails,
  ApplicationClient,
} from "@algorandfoundation/algokit-utils/types/app-client";
import type { AppSpec } from "@algorandfoundation/algokit-utils/types/app-spec";
import type {
  SendTransactionResult,
  TransactionToSign,
  SendTransactionFrom,
} from "@algorandfoundation/algokit-utils/types/transaction";
import type { ABIResult, TransactionWithSigner, modelsv2 } from "algosdk";
import {
  Algodv2,
  OnApplicationComplete,
  Transaction,
  AtomicTransactionComposer,
} from "algosdk";
export const APP_SPEC: AppSpec = {
  hints: {
    "deleteApplication()void": {
      call_config: {
        delete_application: "CALL",
      },
    },
    "createApplication()void": {
      call_config: {
        no_op: "CREATE",
      },
    },
    "verify(byte[],byte[33][3])void": {
      call_config: {
        no_op: "CALL",
      },
    },
    "appendLeaf(byte[],byte[33][3])void": {
      call_config: {
        no_op: "CALL",
      },
    },
    "updateLeaf(byte[],byte[],byte[33][3])void": {
      call_config: {
        no_op: "CALL",
      },
    },
  },
  source: {
    approval:
      "I3ByYWdtYSB2ZXJzaW9uIDEwCiNwcmFnbWEgdHlwZXRyYWNrIGZhbHNlCgovLyBAYWxnb3JhbmRmb3VuZGF0aW9uL2FsZ29yYW5kLXR5cGVzY3JpcHQvYXJjNC9pbmRleC5kLnRzOjpDb250cmFjdC5hcHByb3ZhbFByb2dyYW0oKSAtPiB1aW50NjQ6Cm1haW46CiAgICBpbnRjYmxvY2sgMCAxIDMgMzMKICAgIGJ5dGVjYmxvY2sgInJvb3QiICJzaXplIiAweGUzYjBjNDQyOThmYzFjMTQ5YWZiZjRjODk5NmZiOTI0MjdhZTQxZTQ2NDliOTM0Y2E0OTU5OTFiNzg1MmI4NTUgMHgKICAgIHR4biBBcHBsaWNhdGlvbklECiAgICBibnogbWFpbl9hZnRlcl9pZl9lbHNlQDIKICAgIC8vIGNvbnRyYWN0cy9tZXJrbGUvbWVya2xlLmFsZ28udHM6MzMKICAgIC8vIHNpemUgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KHsgaW5pdGlhbFZhbHVlOiAwIH0pOwogICAgYnl0ZWNfMSAvLyAic2l6ZSIKICAgIGludGNfMCAvLyAwCiAgICBhcHBfZ2xvYmFsX3B1dAoKbWFpbl9hZnRlcl9pZl9lbHNlQDI6CiAgICAvLyBjb250cmFjdHMvbWVya2xlL21lcmtsZS5hbGdvLnRzOjMwCiAgICAvLyBleHBvcnQgY2xhc3MgTWVya2xlVHJlZSBleHRlbmRzIENvbnRyYWN0IHsKICAgIHR4biBOdW1BcHBBcmdzCiAgICBieiBtYWluX2FmdGVyX2lmX2Vsc2VAMTMKICAgIHB1c2hieXRlc3MgMHgyNDg3YzMyYyAweGI4NDQ3YjM2IDB4NTA2Y2I4ZDggMHgwNGY2MzIzOCAweDI1NWQ5M2UzIC8vIG1ldGhvZCAiZGVsZXRlQXBwbGljYXRpb24oKXZvaWQiLCBtZXRob2QgImNyZWF0ZUFwcGxpY2F0aW9uKCl2b2lkIiwgbWV0aG9kICJ2ZXJpZnkoYnl0ZVtdLGJ5dGVbMzNdWzNdKXZvaWQiLCBtZXRob2QgImFwcGVuZExlYWYoYnl0ZVtdLGJ5dGVbMzNdWzNdKXZvaWQiLCBtZXRob2QgInVwZGF0ZUxlYWYoYnl0ZVtdLGJ5dGVbXSxieXRlWzMzXVszXSl2b2lkIgogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMAogICAgbWF0Y2ggbWFpbl9kZWxldGVBcHBsaWNhdGlvbl9yb3V0ZUA1IG1haW5fY3JlYXRlQXBwbGljYXRpb25fcm91dGVANiBtYWluX3ZlcmlmeV9yb3V0ZUA3IG1haW5fYXBwZW5kTGVhZl9yb3V0ZUA4IG1haW5fdXBkYXRlTGVhZl9yb3V0ZUA5CgptYWluX2FmdGVyX2lmX2Vsc2VAMTM6CiAgICBlcnIKCm1haW5fdXBkYXRlTGVhZl9yb3V0ZUA5OgogICAgLy8gY29udHJhY3RzL21lcmtsZS9tZXJrbGUuYWxnby50czoxMDAKICAgIC8vIHVwZGF0ZUxlYWYob2xkRGF0YTogYnl0ZXMsIG5ld0RhdGE6IGJ5dGVzLCBwYXRoOiBQYXRoKTogdm9pZCB7CiAgICB0eG4gT25Db21wbGV0aW9uCiAgICAhCiAgICBhc3NlcnQgLy8gT25Db21wbGV0aW9uIGlzIG5vdCBOb09wCiAgICB0eG4gQXBwbGljYXRpb25JRAogICAgYXNzZXJ0IC8vIGNhbiBvbmx5IGNhbGwgd2hlbiBub3QgY3JlYXRpbmcKICAgIC8vIGNvbnRyYWN0cy9tZXJrbGUvbWVya2xlLmFsZ28udHM6MzAKICAgIC8vIGV4cG9ydCBjbGFzcyBNZXJrbGVUcmVlIGV4dGVuZHMgQ29udHJhY3QgewogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgZXh0cmFjdCAyIDAKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDIKICAgIGV4dHJhY3QgMiAwCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAzCiAgICAvLyBjb250cmFjdHMvbWVya2xlL21lcmtsZS5hbGdvLnRzOjEwMAogICAgLy8gdXBkYXRlTGVhZihvbGREYXRhOiBieXRlcywgbmV3RGF0YTogYnl0ZXMsIHBhdGg6IFBhdGgpOiB2b2lkIHsKICAgIGNhbGxzdWIgdXBkYXRlTGVhZgogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKbWFpbl9hcHBlbmRMZWFmX3JvdXRlQDg6CiAgICAvLyBjb250cmFjdHMvbWVya2xlL21lcmtsZS5hbGdvLnRzOjg5CiAgICAvLyBhcHBlbmRMZWFmKGRhdGE6IGJ5dGVzLCBwYXRoOiBQYXRoKTogdm9pZCB7CiAgICB0eG4gT25Db21wbGV0aW9uCiAgICAhCiAgICBhc3NlcnQgLy8gT25Db21wbGV0aW9uIGlzIG5vdCBOb09wCiAgICB0eG4gQXBwbGljYXRpb25JRAogICAgYXNzZXJ0IC8vIGNhbiBvbmx5IGNhbGwgd2hlbiBub3QgY3JlYXRpbmcKICAgIC8vIGNvbnRyYWN0cy9tZXJrbGUvbWVya2xlLmFsZ28udHM6MzAKICAgIC8vIGV4cG9ydCBjbGFzcyBNZXJrbGVUcmVlIGV4dGVuZHMgQ29udHJhY3QgewogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgZXh0cmFjdCAyIDAKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDIKICAgIC8vIGNvbnRyYWN0cy9tZXJrbGUvbWVya2xlLmFsZ28udHM6ODkKICAgIC8vIGFwcGVuZExlYWYoZGF0YTogYnl0ZXMsIHBhdGg6IFBhdGgpOiB2b2lkIHsKICAgIGNhbGxzdWIgYXBwZW5kTGVhZgogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKbWFpbl92ZXJpZnlfcm91dGVANzoKICAgIC8vIGNvbnRyYWN0cy9tZXJrbGUvbWVya2xlLmFsZ28udHM6ODUKICAgIC8vIHZlcmlmeShkYXRhOiBieXRlcywgcGF0aDogUGF0aCk6IHZvaWQgewogICAgdHhuIE9uQ29tcGxldGlvbgogICAgIQogICAgYXNzZXJ0IC8vIE9uQ29tcGxldGlvbiBpcyBub3QgTm9PcAogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgIGFzc2VydCAvLyBjYW4gb25seSBjYWxsIHdoZW4gbm90IGNyZWF0aW5nCiAgICAvLyBjb250cmFjdHMvbWVya2xlL21lcmtsZS5hbGdvLnRzOjMwCiAgICAvLyBleHBvcnQgY2xhc3MgTWVya2xlVHJlZSBleHRlbmRzIENvbnRyYWN0IHsKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGV4dHJhY3QgMiAwCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAyCiAgICAvLyBjb250cmFjdHMvbWVya2xlL21lcmtsZS5hbGdvLnRzOjg1CiAgICAvLyB2ZXJpZnkoZGF0YTogYnl0ZXMsIHBhdGg6IFBhdGgpOiB2b2lkIHsKICAgIGNhbGxzdWIgdmVyaWZ5CiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgptYWluX2NyZWF0ZUFwcGxpY2F0aW9uX3JvdXRlQDY6CiAgICAvLyBjb250cmFjdHMvbWVya2xlL21lcmtsZS5hbGdvLnRzOjgwCiAgICAvLyBAYWJpbWV0aG9kKHsgb25DcmVhdGU6ICJyZXF1aXJlIiB9KQogICAgdHhuIE9uQ29tcGxldGlvbgogICAgIQogICAgYXNzZXJ0IC8vIE9uQ29tcGxldGlvbiBpcyBub3QgTm9PcAogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgICEKICAgIGFzc2VydCAvLyBjYW4gb25seSBjYWxsIHdoZW4gY3JlYXRpbmcKICAgIGNhbGxzdWIgY3JlYXRlQXBwbGljYXRpb24KICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCm1haW5fZGVsZXRlQXBwbGljYXRpb25fcm91dGVANToKICAgIC8vIGNvbnRyYWN0cy9tZXJrbGUvbWVya2xlLmFsZ28udHM6NzUKICAgIC8vIEBhYmltZXRob2QoeyBhbGxvd0FjdGlvbnM6ICJEZWxldGVBcHBsaWNhdGlvbiIgfSkKICAgIHR4biBPbkNvbXBsZXRpb24KICAgIHB1c2hpbnQgNSAvLyBEZWxldGVBcHBsaWNhdGlvbgogICAgPT0KICAgIGFzc2VydCAvLyBPbkNvbXBsZXRpb24gaXMgbm90IERlbGV0ZUFwcGxpY2F0aW9uCiAgICB0eG4gQXBwbGljYXRpb25JRAogICAgYXNzZXJ0IC8vIGNhbiBvbmx5IGNhbGwgd2hlbiBub3QgY3JlYXRpbmcKICAgIGNhbGxzdWIgZGVsZXRlQXBwbGljYXRpb24KICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCgovLyBjb250cmFjdHMvbWVya2xlL21lcmtsZS5hbGdvLnRzOjpNZXJrbGVUcmVlLmNhbGNSb290KGxlYWY6IGJ5dGVzLCBwYXRoOiBieXRlcykgLT4gYnl0ZXMsIGJ5dGVzOgpjYWxjUm9vdDoKICAgIC8vIGNvbnRyYWN0cy9tZXJrbGUvbWVya2xlLmFsZ28udHM6NTMKICAgIC8vIHByaXZhdGUgY2FsY1Jvb3QobGVhZjogYnl0ZXM8MzI+LCBwYXRoOiBQYXRoKTogYnl0ZXM8MzI+IHsKICAgIHByb3RvIDIgMgogICAgLy8gY29udHJhY3RzL21lcmtsZS9tZXJrbGUuYWxnby50czo1NgogICAgLy8gZm9yIChsZXQgaTogdWludDY0ID0gMDsgaSA8IFRSRUVfREVQVEg7IGkgPSBpICsgMSkgewogICAgaW50Y18wIC8vIDAKICAgIGZyYW1lX2RpZyAtMgoKY2FsY1Jvb3Rfd2hpbGVfdG9wQDE6CiAgICAvLyBjb250cmFjdHMvbWVya2xlL21lcmtsZS5hbGdvLnRzOjU2CiAgICAvLyBmb3IgKGxldCBpOiB1aW50NjQgPSAwOyBpIDwgVFJFRV9ERVBUSDsgaSA9IGkgKyAxKSB7CiAgICBmcmFtZV9kaWcgMAogICAgaW50Y18yIC8vIDMKICAgIDwKICAgIGJ6IGNhbGNSb290X2FmdGVyX3doaWxlQDYKICAgIC8vIGNvbnRyYWN0cy9tZXJrbGUvbWVya2xlLmFsZ28udHM6NTcKICAgIC8vIGNvbnN0IGVsZW0gPSBwYXRoW2ldOwogICAgZnJhbWVfZGlnIDAKICAgIGludGNfMyAvLyAzMwogICAgKgogICAgZnJhbWVfZGlnIC0xCiAgICBzd2FwCiAgICBpbnRjXzMgLy8gMzMKICAgIGV4dHJhY3QzIC8vIG9uIGVycm9yOiBpbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgZHVwCiAgICAvLyBjb250cmFjdHMvbWVya2xlL21lcmtsZS5hbGdvLnRzOjUwCiAgICAvLyByZXR1cm4gZ2V0Qnl0ZShlbGVtLCAwKSA9PT0gUklHSFRfU0lCTElOR19QUkVGSVg7CiAgICBpbnRjXzAgLy8gMAogICAgZ2V0Ynl0ZQogICAgcHVzaGludCAxNzAgLy8gMTcwCiAgICA9PQogICAgLy8gY29udHJhY3RzL21lcmtsZS9tZXJrbGUuYWxnby50czo1OQogICAgLy8gaWYgKHRoaXMuaXNSaWdodFNpYmxpbmcoZWxlbSkpIHsKICAgIGJ6IGNhbGNSb290X2Vsc2VfYm9keUA0CiAgICAvLyBjb250cmFjdHMvbWVya2xlL21lcmtsZS5hbGdvLnRzOjYyCiAgICAvLyBleHRyYWN0KGVsZW0sIDEsIDMyKS50b0ZpeGVkKHsgbGVuZ3RoOiAzMiB9KSwKICAgIGV4dHJhY3QgMSAzMgogICAgZHVwCiAgICBsZW4KICAgIHB1c2hpbnQgMzIgLy8gMzIKICAgID09CiAgICBhc3NlcnQgLy8gTGVuZ3RoIG11c3QgYmUgMzIKICAgIC8vIGNvbnRyYWN0cy9tZXJrbGUvbWVya2xlLmFsZ28udHM6NDYKICAgIC8vIHJldHVybiBzaGEyNTYobGVmdC5jb25jYXQocmlnaHQpKTsKICAgIGZyYW1lX2RpZyAxCiAgICBzd2FwCiAgICBjb25jYXQKICAgIHNoYTI1NgogICAgZnJhbWVfYnVyeSAxCgpjYWxjUm9vdF9hZnRlcl9pZl9lbHNlQDU6CiAgICAvLyBjb250cmFjdHMvbWVya2xlL21lcmtsZS5hbGdvLnRzOjU2CiAgICAvLyBmb3IgKGxldCBpOiB1aW50NjQgPSAwOyBpIDwgVFJFRV9ERVBUSDsgaSA9IGkgKyAxKSB7CiAgICBmcmFtZV9kaWcgMAogICAgaW50Y18xIC8vIDEKICAgICsKICAgIGZyYW1lX2J1cnkgMAogICAgYiBjYWxjUm9vdF93aGlsZV90b3BAMQoKY2FsY1Jvb3RfZWxzZV9ib2R5QDQ6CiAgICAvLyBjb250cmFjdHMvbWVya2xlL21lcmtsZS5hbGdvLnRzOjY2CiAgICAvLyBleHRyYWN0KGVsZW0sIDEsIDMyKS50b0ZpeGVkKHsgbGVuZ3RoOiAzMiB9KSwKICAgIGV4dHJhY3QgMSAzMgogICAgZHVwCiAgICBsZW4KICAgIHB1c2hpbnQgMzIgLy8gMzIKICAgID09CiAgICBhc3NlcnQgLy8gTGVuZ3RoIG11c3QgYmUgMzIKICAgIC8vIGNvbnRyYWN0cy9tZXJrbGUvbWVya2xlLmFsZ28udHM6NDYKICAgIC8vIHJldHVybiBzaGEyNTYobGVmdC5jb25jYXQocmlnaHQpKTsKICAgIGZyYW1lX2RpZyAxCiAgICBjb25jYXQKICAgIHNoYTI1NgogICAgZnJhbWVfYnVyeSAxCiAgICBiIGNhbGNSb290X2FmdGVyX2lmX2Vsc2VANQoKY2FsY1Jvb3RfYWZ0ZXJfd2hpbGVANjoKICAgIC8vIGNvbnRyYWN0cy9tZXJrbGUvbWVya2xlLmFsZ28udHM6NzIKICAgIC8vIHJldHVybiByZXN1bHQ7CiAgICBmcmFtZV9kaWcgMQogICAgZnJhbWVfZGlnIC0xCiAgICB1bmNvdmVyIDMKICAgIHVuY292ZXIgMwogICAgcmV0c3ViCgoKLy8gY29udHJhY3RzL21lcmtsZS9tZXJrbGUuYWxnby50czo6TWVya2xlVHJlZS5kZWxldGVBcHBsaWNhdGlvbigpIC0+IHZvaWQ6CmRlbGV0ZUFwcGxpY2F0aW9uOgogICAgLy8gY29udHJhY3RzL21lcmtsZS9tZXJrbGUuYWxnby50czo3NwogICAgLy8gYXNzZXJ0TWF0Y2goVHhuLCB7IHNlbmRlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbklkLmNyZWF0b3IgfSk7CiAgICB0eG4gU2VuZGVyCiAgICBnbG9iYWwgQ3VycmVudEFwcGxpY2F0aW9uSUQKICAgIGFwcF9wYXJhbXNfZ2V0IEFwcENyZWF0b3IKICAgIGFzc2VydCAvLyBhcHBsaWNhdGlvbiBleGlzdHMKICAgID09CiAgICBhc3NlcnQgLy8gYXNzZXJ0IHRhcmdldCBpcyBtYXRjaCBmb3IgY29uZGl0aW9ucwogICAgcmV0c3ViCgoKLy8gY29udHJhY3RzL21lcmtsZS9tZXJrbGUuYWxnby50czo6TWVya2xlVHJlZS5jcmVhdGVBcHBsaWNhdGlvbigpIC0+IHZvaWQ6CmNyZWF0ZUFwcGxpY2F0aW9uOgogICAgLy8gY29udHJhY3RzL21lcmtsZS9tZXJrbGUuYWxnby50czo4MC04MQogICAgLy8gQGFiaW1ldGhvZCh7IG9uQ3JlYXRlOiAicmVxdWlyZSIgfSkKICAgIC8vIGNyZWF0ZUFwcGxpY2F0aW9uKCk6IHZvaWQgewogICAgcHJvdG8gMCAwCiAgICAvLyBjb250cmFjdHMvbWVya2xlL21lcmtsZS5hbGdvLnRzOjM2CiAgICAvLyBsZXQgcmVzdWx0ID0gQnl0ZXMuZnJvbUhleDwzMj4oRU1QVFlfSEFTSCk7CiAgICBieXRlY18yIC8vIDB4ZTNiMGM0NDI5OGZjMWMxNDlhZmJmNGM4OTk2ZmI5MjQyN2FlNDFlNDY0OWI5MzRjYTQ5NTk5MWI3ODUyYjg1NQogICAgLy8gY29udHJhY3RzL21lcmtsZS9tZXJrbGUuYWxnby50czozOAogICAgLy8gZm9yIChsZXQgaTogdWludDY0ID0gMDsgaSA8IFRSRUVfREVQVEg7IGkgPSBpICsgMSkgewogICAgaW50Y18wIC8vIDAKCmNyZWF0ZUFwcGxpY2F0aW9uX3doaWxlX3RvcEAyOgogICAgLy8gY29udHJhY3RzL21lcmtsZS9tZXJrbGUuYWxnby50czozOAogICAgLy8gZm9yIChsZXQgaTogdWludDY0ID0gMDsgaSA8IFRSRUVfREVQVEg7IGkgPSBpICsgMSkgewogICAgZnJhbWVfZGlnIDEKICAgIGludGNfMiAvLyAzCiAgICA8CiAgICBieiBjcmVhdGVBcHBsaWNhdGlvbl9hZnRlcl93aGlsZUA0CiAgICAvLyBjb250cmFjdHMvbWVya2xlL21lcmtsZS5hbGdvLnRzOjM5CiAgICAvLyByZXN1bHQgPSBzaGEyNTYocmVzdWx0LmNvbmNhdChyZXN1bHQpKTsKICAgIGZyYW1lX2RpZyAwCiAgICBkdXAKICAgIGNvbmNhdAogICAgc2hhMjU2CiAgICBmcmFtZV9idXJ5IDAKICAgIC8vIGNvbnRyYWN0cy9tZXJrbGUvbWVya2xlLmFsZ28udHM6MzgKICAgIC8vIGZvciAobGV0IGk6IHVpbnQ2NCA9IDA7IGkgPCBUUkVFX0RFUFRIOyBpID0gaSArIDEpIHsKICAgIGZyYW1lX2RpZyAxCiAgICBpbnRjXzEgLy8gMQogICAgKwogICAgZnJhbWVfYnVyeSAxCiAgICBiIGNyZWF0ZUFwcGxpY2F0aW9uX3doaWxlX3RvcEAyCgpjcmVhdGVBcHBsaWNhdGlvbl9hZnRlcl93aGlsZUA0OgogICAgLy8gY29udHJhY3RzL21lcmtsZS9tZXJrbGUuYWxnby50czozMQogICAgLy8gcm9vdCA9IEdsb2JhbFN0YXRlPGJ5dGVzPDMyPj4oKTsKICAgIGJ5dGVjXzAgLy8gInJvb3QiCiAgICAvLyBjb250cmFjdHMvbWVya2xlL21lcmtsZS5hbGdvLnRzOjgyCiAgICAvLyB0aGlzLnJvb3QudmFsdWUgPSB0aGlzLmNhbGNJbml0Um9vdCgpOwogICAgZnJhbWVfZGlnIDAKICAgIGFwcF9nbG9iYWxfcHV0CiAgICByZXRzdWIKCgovLyBjb250cmFjdHMvbWVya2xlL21lcmtsZS5hbGdvLnRzOjpNZXJrbGVUcmVlLnZlcmlmeShkYXRhOiBieXRlcywgcGF0aDogYnl0ZXMpIC0+IHZvaWQ6CnZlcmlmeToKICAgIC8vIGNvbnRyYWN0cy9tZXJrbGUvbWVya2xlLmFsZ28udHM6ODUKICAgIC8vIHZlcmlmeShkYXRhOiBieXRlcywgcGF0aDogUGF0aCk6IHZvaWQgewogICAgcHJvdG8gMiAwCiAgICAvLyBjb250cmFjdHMvbWVya2xlL21lcmtsZS5hbGdvLnRzOjg2CiAgICAvLyBhc3NlcnQodGhpcy5yb290LnZhbHVlID09PSB0aGlzLmNhbGNSb290KHNoYTI1NihkYXRhKSwgcGF0aCkpOwogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9tZXJrbGUvbWVya2xlLmFsZ28udHM6MzEKICAgIC8vIHJvb3QgPSBHbG9iYWxTdGF0ZTxieXRlczwzMj4+KCk7CiAgICBieXRlY18wIC8vICJyb290IgogICAgLy8gY29udHJhY3RzL21lcmtsZS9tZXJrbGUuYWxnby50czo4NgogICAgLy8gYXNzZXJ0KHRoaXMucm9vdC52YWx1ZSA9PT0gdGhpcy5jYWxjUm9vdChzaGEyNTYoZGF0YSksIHBhdGgpKTsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBmcmFtZV9kaWcgLTIKICAgIHNoYTI1NgogICAgZnJhbWVfZGlnIC0xCiAgICBjYWxsc3ViIGNhbGNSb290CiAgICBmcmFtZV9idXJ5IC0xCiAgICA9PQogICAgYXNzZXJ0CiAgICByZXRzdWIKCgovLyBjb250cmFjdHMvbWVya2xlL21lcmtsZS5hbGdvLnRzOjpNZXJrbGVUcmVlLmFwcGVuZExlYWYoZGF0YTogYnl0ZXMsIHBhdGg6IGJ5dGVzKSAtPiB2b2lkOgphcHBlbmRMZWFmOgogICAgLy8gY29udHJhY3RzL21lcmtsZS9tZXJrbGUuYWxnby50czo4OQogICAgLy8gYXBwZW5kTGVhZihkYXRhOiBieXRlcywgcGF0aDogUGF0aCk6IHZvaWQgewogICAgcHJvdG8gMiAwCiAgICAvLyBjb250cmFjdHMvbWVya2xlL21lcmtsZS5hbGdvLnRzOjkwCiAgICAvLyBhc3NlcnQoZGF0YSAhPT0gQnl0ZXMoKSk7CiAgICBmcmFtZV9kaWcgLTIKICAgIGJ5dGVjXzMgLy8gMHgKICAgICE9CiAgICBhc3NlcnQKICAgIC8vIGNvbnRyYWN0cy9tZXJrbGUvbWVya2xlLmFsZ28udHM6OTIKICAgIC8vIHRoaXMucm9vdC52YWx1ZSA9PT0gdGhpcy5jYWxjUm9vdChCeXRlcy5mcm9tSGV4PDMyPihFTVBUWV9IQVNIKSwgcGF0aCksCiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL21lcmtsZS9tZXJrbGUuYWxnby50czozMQogICAgLy8gcm9vdCA9IEdsb2JhbFN0YXRlPGJ5dGVzPDMyPj4oKTsKICAgIGJ5dGVjXzAgLy8gInJvb3QiCiAgICAvLyBjb250cmFjdHMvbWVya2xlL21lcmtsZS5hbGdvLnRzOjkyCiAgICAvLyB0aGlzLnJvb3QudmFsdWUgPT09IHRoaXMuY2FsY1Jvb3QoQnl0ZXMuZnJvbUhleDwzMj4oRU1QVFlfSEFTSCksIHBhdGgpLAogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGJ5dGVjXzIgLy8gMHhlM2IwYzQ0Mjk4ZmMxYzE0OWFmYmY0Yzg5OTZmYjkyNDI3YWU0MWU0NjQ5YjkzNGNhNDk1OTkxYjc4NTJiODU1CiAgICBmcmFtZV9kaWcgLTEKICAgIGNhbGxzdWIgY2FsY1Jvb3QKICAgIGZyYW1lX2J1cnkgLTEKICAgID09CiAgICAvLyBjb250cmFjdHMvbWVya2xlL21lcmtsZS5hbGdvLnRzOjkxLTkzCiAgICAvLyBhc3NlcnQoCiAgICAvLyAgIHRoaXMucm9vdC52YWx1ZSA9PT0gdGhpcy5jYWxjUm9vdChCeXRlcy5mcm9tSGV4PDMyPihFTVBUWV9IQVNIKSwgcGF0aCksCiAgICAvLyApOwogICAgYXNzZXJ0CiAgICAvLyBjb250cmFjdHMvbWVya2xlL21lcmtsZS5hbGdvLnRzOjk1CiAgICAvLyB0aGlzLnJvb3QudmFsdWUgPSB0aGlzLmNhbGNSb290KHNoYTI1NihkYXRhKSwgcGF0aCk7CiAgICBmcmFtZV9kaWcgLTIKICAgIHNoYTI1NgogICAgZnJhbWVfZGlnIC0xCiAgICBjYWxsc3ViIGNhbGNSb290CiAgICBmcmFtZV9idXJ5IC0xCiAgICAvLyBjb250cmFjdHMvbWVya2xlL21lcmtsZS5hbGdvLnRzOjMxCiAgICAvLyByb290ID0gR2xvYmFsU3RhdGU8Ynl0ZXM8MzI+PigpOwogICAgYnl0ZWNfMCAvLyAicm9vdCIKICAgIC8vIGNvbnRyYWN0cy9tZXJrbGUvbWVya2xlLmFsZ28udHM6OTUKICAgIC8vIHRoaXMucm9vdC52YWx1ZSA9IHRoaXMuY2FsY1Jvb3Qoc2hhMjU2KGRhdGEpLCBwYXRoKTsKICAgIHN3YXAKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBjb250cmFjdHMvbWVya2xlL21lcmtsZS5hbGdvLnRzOjk3CiAgICAvLyB0aGlzLnNpemUudmFsdWUgPSB0aGlzLnNpemUudmFsdWUgKyAxOwogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9tZXJrbGUvbWVya2xlLmFsZ28udHM6MzMKICAgIC8vIHNpemUgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KHsgaW5pdGlhbFZhbHVlOiAwIH0pOwogICAgYnl0ZWNfMSAvLyAic2l6ZSIKICAgIC8vIGNvbnRyYWN0cy9tZXJrbGUvbWVya2xlLmFsZ28udHM6OTcKICAgIC8vIHRoaXMuc2l6ZS52YWx1ZSA9IHRoaXMuc2l6ZS52YWx1ZSArIDE7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgaW50Y18xIC8vIDEKICAgICsKICAgIC8vIGNvbnRyYWN0cy9tZXJrbGUvbWVya2xlLmFsZ28udHM6MzMKICAgIC8vIHNpemUgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KHsgaW5pdGlhbFZhbHVlOiAwIH0pOwogICAgYnl0ZWNfMSAvLyAic2l6ZSIKICAgIC8vIGNvbnRyYWN0cy9tZXJrbGUvbWVya2xlLmFsZ28udHM6OTcKICAgIC8vIHRoaXMuc2l6ZS52YWx1ZSA9IHRoaXMuc2l6ZS52YWx1ZSArIDE7CiAgICBzd2FwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgcmV0c3ViCgoKLy8gY29udHJhY3RzL21lcmtsZS9tZXJrbGUuYWxnby50czo6TWVya2xlVHJlZS51cGRhdGVMZWFmKG9sZERhdGE6IGJ5dGVzLCBuZXdEYXRhOiBieXRlcywgcGF0aDogYnl0ZXMpIC0+IHZvaWQ6CnVwZGF0ZUxlYWY6CiAgICAvLyBjb250cmFjdHMvbWVya2xlL21lcmtsZS5hbGdvLnRzOjEwMAogICAgLy8gdXBkYXRlTGVhZihvbGREYXRhOiBieXRlcywgbmV3RGF0YTogYnl0ZXMsIHBhdGg6IFBhdGgpOiB2b2lkIHsKICAgIHByb3RvIDMgMAogICAgLy8gY29udHJhY3RzL21lcmtsZS9tZXJrbGUuYWxnby50czoxMDEKICAgIC8vIGFzc2VydChuZXdEYXRhICE9PSBCeXRlcygpKTsKICAgIGZyYW1lX2RpZyAtMgogICAgYnl0ZWNfMyAvLyAweAogICAgIT0KICAgIGFzc2VydAogICAgLy8gY29udHJhY3RzL21lcmtsZS9tZXJrbGUuYWxnby50czoxMDIKICAgIC8vIGFzc2VydCh0aGlzLnJvb3QudmFsdWUgPT09IHRoaXMuY2FsY1Jvb3Qoc2hhMjU2KG9sZERhdGEpLCBwYXRoKSk7CiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL21lcmtsZS9tZXJrbGUuYWxnby50czozMQogICAgLy8gcm9vdCA9IEdsb2JhbFN0YXRlPGJ5dGVzPDMyPj4oKTsKICAgIGJ5dGVjXzAgLy8gInJvb3QiCiAgICAvLyBjb250cmFjdHMvbWVya2xlL21lcmtsZS5hbGdvLnRzOjEwMgogICAgLy8gYXNzZXJ0KHRoaXMucm9vdC52YWx1ZSA9PT0gdGhpcy5jYWxjUm9vdChzaGEyNTYob2xkRGF0YSksIHBhdGgpKTsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBmcmFtZV9kaWcgLTMKICAgIHNoYTI1NgogICAgZnJhbWVfZGlnIC0xCiAgICBjYWxsc3ViIGNhbGNSb290CiAgICBmcmFtZV9idXJ5IC0xCiAgICA9PQogICAgYXNzZXJ0CiAgICAvLyBjb250cmFjdHMvbWVya2xlL21lcmtsZS5hbGdvLnRzOjEwNAogICAgLy8gdGhpcy5yb290LnZhbHVlID0gdGhpcy5jYWxjUm9vdChzaGEyNTYobmV3RGF0YSksIHBhdGgpOwogICAgZnJhbWVfZGlnIC0yCiAgICBzaGEyNTYKICAgIGZyYW1lX2RpZyAtMQogICAgY2FsbHN1YiBjYWxjUm9vdAogICAgZnJhbWVfYnVyeSAtMQogICAgLy8gY29udHJhY3RzL21lcmtsZS9tZXJrbGUuYWxnby50czozMQogICAgLy8gcm9vdCA9IEdsb2JhbFN0YXRlPGJ5dGVzPDMyPj4oKTsKICAgIGJ5dGVjXzAgLy8gInJvb3QiCiAgICAvLyBjb250cmFjdHMvbWVya2xlL21lcmtsZS5hbGdvLnRzOjEwNAogICAgLy8gdGhpcy5yb290LnZhbHVlID0gdGhpcy5jYWxjUm9vdChzaGEyNTYobmV3RGF0YSksIHBhdGgpOwogICAgc3dhcAogICAgYXBwX2dsb2JhbF9wdXQKICAgIHJldHN1Ygo=",
    clear:
      "I3ByYWdtYSB2ZXJzaW9uIDEwCiNwcmFnbWEgdHlwZXRyYWNrIGZhbHNlCgovLyBAYWxnb3JhbmRmb3VuZGF0aW9uL2FsZ29yYW5kLXR5cGVzY3JpcHQvYmFzZS1jb250cmFjdC5kLnRzOjpCYXNlQ29udHJhY3QuY2xlYXJTdGF0ZVByb2dyYW0oKSAtPiB1aW50NjQ6Cm1haW46CiAgICBwdXNoaW50IDEgLy8gMQogICAgcmV0dXJuCg==",
  },
  state: {
    global: {
      num_byte_slices: 1,
      num_uints: 1,
    },
    local: {
      num_byte_slices: 0,
      num_uints: 0,
    },
  },
  schema: {
    global: {
      declared: {
        root: {
          type: "bytes",
          key: "root",
        },
        size: {
          type: "uint64",
          key: "size",
        },
      },
      reserved: {},
    },
    local: {
      declared: {},
      reserved: {},
    },
  },
  contract: {
    name: "MerkleTree",
    methods: [
      {
        name: "deleteApplication",
        args: [],
        readonly: false,
        returns: {
          type: "void",
        },
      },
      {
        name: "createApplication",
        args: [],
        readonly: false,
        returns: {
          type: "void",
        },
      },
      {
        name: "verify",
        args: [
          {
            type: "byte[]",
            name: "data",
          },
          {
            type: "byte[33][3]",
            name: "path",
          },
        ],
        readonly: false,
        returns: {
          type: "void",
        },
      },
      {
        name: "appendLeaf",
        args: [
          {
            type: "byte[]",
            name: "data",
          },
          {
            type: "byte[33][3]",
            name: "path",
          },
        ],
        readonly: false,
        returns: {
          type: "void",
        },
      },
      {
        name: "updateLeaf",
        args: [
          {
            type: "byte[]",
            name: "oldData",
          },
          {
            type: "byte[]",
            name: "newData",
          },
          {
            type: "byte[33][3]",
            name: "path",
          },
        ],
        readonly: false,
        returns: {
          type: "void",
        },
      },
    ],
    networks: {},
  },
  bare_call_config: {},
};

/**
 * Defines an onCompletionAction of 'no_op'
 */
export type OnCompleteNoOp = {
  onCompleteAction?: "no_op" | OnApplicationComplete.NoOpOC;
};
/**
 * Defines an onCompletionAction of 'opt_in'
 */
export type OnCompleteOptIn = {
  onCompleteAction: "opt_in" | OnApplicationComplete.OptInOC;
};
/**
 * Defines an onCompletionAction of 'close_out'
 */
export type OnCompleteCloseOut = {
  onCompleteAction: "close_out" | OnApplicationComplete.CloseOutOC;
};
/**
 * Defines an onCompletionAction of 'delete_application'
 */
export type OnCompleteDelApp = {
  onCompleteAction:
    | "delete_application"
    | OnApplicationComplete.DeleteApplicationOC;
};
/**
 * Defines an onCompletionAction of 'update_application'
 */
export type OnCompleteUpdApp = {
  onCompleteAction:
    | "update_application"
    | OnApplicationComplete.UpdateApplicationOC;
};
/**
 * A state record containing a single unsigned integer
 */
export type IntegerState = {
  /**
   * Gets the state value as a BigInt
   */
  asBigInt(): bigint;
  /**
   * Gets the state value as a number.
   */
  asNumber(): number;
};
/**
 * A state record containing binary data
 */
export type BinaryState = {
  /**
   * Gets the state value as a Uint8Array
   */
  asByteArray(): Uint8Array;
  /**
   * Gets the state value as a string
   */
  asString(): string;
};

/**
 * Defines the types of available calls and state of the MerkleTree smart contract.
 */
export type MerkleTree = {
  /**
   * Maps method signatures / names to their argument and return types.
   */
  methods: Record<
    "deleteApplication()void" | "deleteApplication",
    {
      argsObj: {};
      argsTuple: [];
      returns: void;
    }
  > &
    Record<
      "createApplication()void" | "createApplication",
      {
        argsObj: {};
        argsTuple: [];
        returns: void;
      }
    > &
    Record<
      "verify(byte[],byte[33][3])void" | "verify",
      {
        argsObj: {
          data: Uint8Array;
          path: [Uint8Array, Uint8Array, Uint8Array];
        };
        argsTuple: [
          data: Uint8Array,
          path: [Uint8Array, Uint8Array, Uint8Array],
        ];
        returns: void;
      }
    > &
    Record<
      "appendLeaf(byte[],byte[33][3])void" | "appendLeaf",
      {
        argsObj: {
          data: Uint8Array;
          path: [Uint8Array, Uint8Array, Uint8Array];
        };
        argsTuple: [
          data: Uint8Array,
          path: [Uint8Array, Uint8Array, Uint8Array],
        ];
        returns: void;
      }
    > &
    Record<
      "updateLeaf(byte[],byte[],byte[33][3])void" | "updateLeaf",
      {
        argsObj: {
          oldData: Uint8Array;
          newData: Uint8Array;
          path: [Uint8Array, Uint8Array, Uint8Array];
        };
        argsTuple: [
          oldData: Uint8Array,
          newData: Uint8Array,
          path: [Uint8Array, Uint8Array, Uint8Array],
        ];
        returns: void;
      }
    >;
  /**
   * Defines the shape of the global and local state of the application.
   */
  state: {
    global: {
      root?: BinaryState;
      size?: IntegerState;
    };
  };
};
/**
 * Defines the possible abi call signatures
 */
export type MerkleTreeSig = keyof MerkleTree["methods"];
/**
 * Defines an object containing all relevant parameters for a single call to the contract. Where TSignature is undefined, a bare call is made
 */
export type TypedCallParams<TSignature extends MerkleTreeSig | undefined> = {
  method: TSignature;
  methodArgs: TSignature extends undefined
    ? undefined
    : Array<ABIAppCallArg | undefined>;
} & AppClientCallCoreParams &
  CoreAppCallArgs;
/**
 * Defines the arguments required for a bare call
 */
export type BareCallArgs = Omit<RawAppCallArgs, keyof CoreAppCallArgs>;
/**
 * Maps a method signature from the MerkleTree smart contract to the method's arguments in either tuple of struct form
 */
export type MethodArgs<TSignature extends MerkleTreeSig> =
  MerkleTree["methods"][TSignature]["argsObj" | "argsTuple"];
/**
 * Maps a method signature from the MerkleTree smart contract to the method's return type
 */
export type MethodReturn<TSignature extends MerkleTreeSig> =
  MerkleTree["methods"][TSignature]["returns"];

/**
 * A factory for available 'create' calls
 */
export type MerkleTreeCreateCalls = (typeof MerkleTreeCallFactory)["create"];
/**
 * Defines supported create methods for this smart contract
 */
export type MerkleTreeCreateCallParams =
  TypedCallParams<"createApplication()void"> & OnCompleteNoOp;
/**
 * A factory for available 'delete' calls
 */
export type MerkleTreeDeleteCalls = (typeof MerkleTreeCallFactory)["delete"];
/**
 * Defines supported delete methods for this smart contract
 */
export type MerkleTreeDeleteCallParams =
  TypedCallParams<"deleteApplication()void">;
/**
 * Defines arguments required for the deploy method.
 */
export type MerkleTreeDeployArgs = {
  deployTimeParams?: TealTemplateParams;
  /**
   * A delegate which takes a create call factory and returns the create call params for this smart contract
   */
  createCall?: (
    callFactory: MerkleTreeCreateCalls,
  ) => MerkleTreeCreateCallParams;
  /**
   * A delegate which takes a delete call factory and returns the delete call params for this smart contract
   */
  deleteCall?: (
    callFactory: MerkleTreeDeleteCalls,
  ) => MerkleTreeDeleteCallParams;
};

/**
 * Exposes methods for constructing all available smart contract calls
 */
export abstract class MerkleTreeCallFactory {
  /**
   * Gets available create call factories
   */
  static get create() {
    return {
      /**
       * Constructs a create call for the MerkleTree smart contract using the createApplication()void ABI method
       *
       * @param args Any args for the contract call
       * @param params Any additional parameters for the call
       * @returns A TypedCallParams object for the call
       */
      createApplication(
        args: MethodArgs<"createApplication()void">,
        params: AppClientCallCoreParams &
          CoreAppCallArgs &
          AppClientCompilationParams &
          OnCompleteNoOp = {},
      ) {
        return {
          method: "createApplication()void" as const,
          methodArgs: Array.isArray(args) ? args : [],
          ...params,
        };
      },
    };
  }

  /**
   * Gets available delete call factories
   */
  static get delete() {
    return {
      /**
       * Constructs a delete call for the MerkleTree smart contract using the deleteApplication()void ABI method
       *
       * @param args Any args for the contract call
       * @param params Any additional parameters for the call
       * @returns A TypedCallParams object for the call
       */
      deleteApplication(
        args: MethodArgs<"deleteApplication()void">,
        params: AppClientCallCoreParams & CoreAppCallArgs = {},
      ) {
        return {
          method: "deleteApplication()void" as const,
          methodArgs: Array.isArray(args) ? args : [],
          ...params,
        };
      },
    };
  }

  /**
   * Constructs a no op call for the verify(byte[],byte[33][3])void ABI method
   *
   * @param args Any args for the contract call
   * @param params Any additional parameters for the call
   * @returns A TypedCallParams object for the call
   */
  static verify(
    args: MethodArgs<"verify(byte[],byte[33][3])void">,
    params: AppClientCallCoreParams & CoreAppCallArgs,
  ) {
    return {
      method: "verify(byte[],byte[33][3])void" as const,
      methodArgs: Array.isArray(args) ? args : [args.data, args.path],
      ...params,
    };
  }
  /**
   * Constructs a no op call for the appendLeaf(byte[],byte[33][3])void ABI method
   *
   * @param args Any args for the contract call
   * @param params Any additional parameters for the call
   * @returns A TypedCallParams object for the call
   */
  static appendLeaf(
    args: MethodArgs<"appendLeaf(byte[],byte[33][3])void">,
    params: AppClientCallCoreParams & CoreAppCallArgs,
  ) {
    return {
      method: "appendLeaf(byte[],byte[33][3])void" as const,
      methodArgs: Array.isArray(args) ? args : [args.data, args.path],
      ...params,
    };
  }
  /**
   * Constructs a no op call for the updateLeaf(byte[],byte[],byte[33][3])void ABI method
   *
   * @param args Any args for the contract call
   * @param params Any additional parameters for the call
   * @returns A TypedCallParams object for the call
   */
  static updateLeaf(
    args: MethodArgs<"updateLeaf(byte[],byte[],byte[33][3])void">,
    params: AppClientCallCoreParams & CoreAppCallArgs,
  ) {
    return {
      method: "updateLeaf(byte[],byte[],byte[33][3])void" as const,
      methodArgs: Array.isArray(args)
        ? args
        : [args.oldData, args.newData, args.path],
      ...params,
    };
  }
}

/**
 * A client to make calls to the MerkleTree smart contract
 */
export class MerkleTreeClient {
  /**
   * The underlying `ApplicationClient` for when you want to have more flexibility
   */
  public readonly appClient: ApplicationClient;

  private readonly sender: SendTransactionFrom | undefined;

  /**
   * Creates a new instance of `MerkleTreeClient`
   *
   * @param appDetails appDetails The details to identify the app to deploy
   * @param algod An algod client instance
   */
  constructor(
    appDetails: AppDetails,
    private algod: Algodv2,
  ) {
    this.sender = appDetails.sender;
    this.appClient = algokit.getAppClient(
      {
        ...appDetails,
        app: APP_SPEC,
      },
      algod,
    );
  }

  /**
   * Checks for decode errors on the AppCallTransactionResult and maps the return value to the specified generic type
   *
   * @param result The AppCallTransactionResult to be mapped
   * @param returnValueFormatter An optional delegate to format the return value if required
   * @returns The smart contract response with an updated return value
   */
  protected mapReturnValue<TReturn>(
    result: AppCallTransactionResult,
    returnValueFormatter?: (value: any) => TReturn,
  ): AppCallTransactionResultOfType<TReturn> {
    if (result.return?.decodeError) {
      throw result.return.decodeError;
    }
    const returnValue =
      result.return?.returnValue !== undefined &&
      returnValueFormatter !== undefined
        ? returnValueFormatter(result.return.returnValue)
        : (result.return?.returnValue as TReturn | undefined);
    return { ...result, return: returnValue };
  }

  /**
   * Calls the ABI method with the matching signature using an onCompletion code of NO_OP
   *
   * @param typedCallParams An object containing the method signature, args, and any other relevant parameters
   * @param returnValueFormatter An optional delegate which when provided will be used to map non-undefined return values to the target type
   * @returns The result of the smart contract call
   */
  public async call<TSignature extends keyof MerkleTree["methods"]>(
    typedCallParams: TypedCallParams<TSignature>,
    returnValueFormatter?: (value: any) => MethodReturn<TSignature>,
  ) {
    return this.mapReturnValue<MethodReturn<TSignature>>(
      await this.appClient.call(typedCallParams),
      returnValueFormatter,
    );
  }

  /**
   * Idempotently deploys the MerkleTree smart contract.
   *
   * @param params The arguments for the contract calls and any additional parameters for the call
   * @returns The deployment result
   */
  public deploy(
    params: MerkleTreeDeployArgs & AppClientDeployCoreParams = {},
  ): ReturnType<ApplicationClient["deploy"]> {
    const createArgs = params.createCall?.(MerkleTreeCallFactory.create);
    const deleteArgs = params.deleteCall?.(MerkleTreeCallFactory.delete);
    return this.appClient.deploy({
      ...params,
      deleteArgs,
      createArgs,
      createOnCompleteAction: createArgs?.onCompleteAction,
    });
  }

  /**
   * Gets available create methods
   */
  public get create() {
    const $this = this;
    return {
      /**
       * Creates a new instance of the MerkleTree smart contract using the createApplication()void ABI method.
       *
       * @param args The arguments for the smart contract call
       * @param params Any additional parameters for the call
       * @returns The create result
       */
      async createApplication(
        args: MethodArgs<"createApplication()void">,
        params: AppClientCallCoreParams &
          AppClientCompilationParams &
          OnCompleteNoOp = {},
      ): Promise<
        AppCallTransactionResultOfType<MethodReturn<"createApplication()void">>
      > {
        return $this.mapReturnValue(
          await $this.appClient.create(
            MerkleTreeCallFactory.create.createApplication(args, params),
          ),
        );
      },
    };
  }

  /**
   * Gets available delete methods
   */
  public get delete() {
    const $this = this;
    return {
      /**
       * Deletes an existing instance of the MerkleTree smart contract using the deleteApplication()void ABI method.
       *
       * @param args The arguments for the smart contract call
       * @param params Any additional parameters for the call
       * @returns The delete result
       */
      async deleteApplication(
        args: MethodArgs<"deleteApplication()void">,
        params: AppClientCallCoreParams = {},
      ): Promise<
        AppCallTransactionResultOfType<MethodReturn<"deleteApplication()void">>
      > {
        return $this.mapReturnValue(
          await $this.appClient.delete(
            MerkleTreeCallFactory.delete.deleteApplication(args, params),
          ),
        );
      },
    };
  }

  /**
   * Makes a clear_state call to an existing instance of the MerkleTree smart contract.
   *
   * @param args The arguments for the bare call
   * @returns The clear_state result
   */
  public clearState(
    args: BareCallArgs & AppClientCallCoreParams & CoreAppCallArgs = {},
  ) {
    return this.appClient.clearState(args);
  }

  /**
   * Calls the verify(byte[],byte[33][3])void ABI method.
   *
   * @param args The arguments for the contract call
   * @param params Any additional parameters for the call
   * @returns The result of the call
   */
  public verify(
    args: MethodArgs<"verify(byte[],byte[33][3])void">,
    params: AppClientCallCoreParams & CoreAppCallArgs = {},
  ) {
    return this.call(MerkleTreeCallFactory.verify(args, params));
  }

  /**
   * Calls the appendLeaf(byte[],byte[33][3])void ABI method.
   *
   * @param args The arguments for the contract call
   * @param params Any additional parameters for the call
   * @returns The result of the call
   */
  public appendLeaf(
    args: MethodArgs<"appendLeaf(byte[],byte[33][3])void">,
    params: AppClientCallCoreParams & CoreAppCallArgs = {},
  ) {
    return this.call(MerkleTreeCallFactory.appendLeaf(args, params));
  }

  /**
   * Calls the updateLeaf(byte[],byte[],byte[33][3])void ABI method.
   *
   * @param args The arguments for the contract call
   * @param params Any additional parameters for the call
   * @returns The result of the call
   */
  public updateLeaf(
    args: MethodArgs<"updateLeaf(byte[],byte[],byte[33][3])void">,
    params: AppClientCallCoreParams & CoreAppCallArgs = {},
  ) {
    return this.call(MerkleTreeCallFactory.updateLeaf(args, params));
  }

  /**
   * Extracts a binary state value out of an AppState dictionary
   *
   * @param state The state dictionary containing the state value
   * @param key The key of the state value
   * @returns A BinaryState instance containing the state value, or undefined if the key was not found
   */
  private static getBinaryState(
    state: AppState,
    key: string,
  ): BinaryState | undefined {
    const value = state[key];
    if (!value) return undefined;
    if (!("valueRaw" in value))
      throw new Error(
        `Failed to parse state value for ${key}; received an int when expected a byte array`,
      );
    return {
      asString(): string {
        return value.value;
      },
      asByteArray(): Uint8Array {
        return value.valueRaw;
      },
    };
  }

  /**
   * Extracts a integer state value out of an AppState dictionary
   *
   * @param state The state dictionary containing the state value
   * @param key The key of the state value
   * @returns An IntegerState instance containing the state value, or undefined if the key was not found
   */
  private static getIntegerState(
    state: AppState,
    key: string,
  ): IntegerState | undefined {
    const value = state[key];
    if (!value) return undefined;
    if ("valueRaw" in value)
      throw new Error(
        `Failed to parse state value for ${key}; received a byte array when expected a number`,
      );
    return {
      asBigInt() {
        return typeof value.value === "bigint"
          ? value.value
          : BigInt(value.value);
      },
      asNumber(): number {
        return typeof value.value === "bigint"
          ? Number(value.value)
          : value.value;
      },
    };
  }

  /**
   * Returns the smart contract's global state wrapped in a strongly typed accessor with options to format the stored value
   */
  public async getGlobalState(): Promise<MerkleTree["state"]["global"]> {
    const state = await this.appClient.getGlobalState();
    return {
      get root() {
        return MerkleTreeClient.getBinaryState(state, "root");
      },
      get size() {
        return MerkleTreeClient.getIntegerState(state, "size");
      },
    };
  }

  public compose(): MerkleTreeComposer {
    const client = this;
    const atc = new AtomicTransactionComposer();
    let promiseChain: Promise<unknown> = Promise.resolve();
    const resultMappers: Array<undefined | ((x: any) => any)> = [];
    return {
      verify(
        args: MethodArgs<"verify(byte[],byte[33][3])void">,
        params?: AppClientCallCoreParams & CoreAppCallArgs,
      ) {
        promiseChain = promiseChain.then(() =>
          client.verify(args, {
            ...params,
            sendParams: { ...params?.sendParams, skipSending: true, atc },
          }),
        );
        resultMappers.push(undefined);
        return this;
      },
      appendLeaf(
        args: MethodArgs<"appendLeaf(byte[],byte[33][3])void">,
        params?: AppClientCallCoreParams & CoreAppCallArgs,
      ) {
        promiseChain = promiseChain.then(() =>
          client.appendLeaf(args, {
            ...params,
            sendParams: { ...params?.sendParams, skipSending: true, atc },
          }),
        );
        resultMappers.push(undefined);
        return this;
      },
      updateLeaf(
        args: MethodArgs<"updateLeaf(byte[],byte[],byte[33][3])void">,
        params?: AppClientCallCoreParams & CoreAppCallArgs,
      ) {
        promiseChain = promiseChain.then(() =>
          client.updateLeaf(args, {
            ...params,
            sendParams: { ...params?.sendParams, skipSending: true, atc },
          }),
        );
        resultMappers.push(undefined);
        return this;
      },
      get delete() {
        const $this = this;
        return {
          deleteApplication(
            args: MethodArgs<"deleteApplication()void">,
            params?: AppClientCallCoreParams,
          ) {
            promiseChain = promiseChain.then(() =>
              client.delete.deleteApplication(args, {
                ...params,
                sendParams: { ...params?.sendParams, skipSending: true, atc },
              }),
            );
            resultMappers.push(undefined);
            return $this;
          },
        };
      },
      clearState(
        args?: BareCallArgs & AppClientCallCoreParams & CoreAppCallArgs,
      ) {
        promiseChain = promiseChain.then(() =>
          client.clearState({
            ...args,
            sendParams: { ...args?.sendParams, skipSending: true, atc },
          }),
        );
        resultMappers.push(undefined);
        return this;
      },
      addTransaction(
        txn:
          | TransactionWithSigner
          | TransactionToSign
          | Transaction
          | Promise<SendTransactionResult>,
        defaultSender?: SendTransactionFrom,
      ) {
        promiseChain = promiseChain.then(async () =>
          atc.addTransaction(
            await algokit.getTransactionWithSigner(
              txn,
              defaultSender ?? client.sender,
            ),
          ),
        );
        return this;
      },
      async atc() {
        await promiseChain;
        return atc;
      },
      async simulate() {
        await promiseChain;
        const result = await atc.simulate(client.algod);
        return result;
      },
      async execute() {
        await promiseChain;
        const result = await algokit.sendAtomicTransactionComposer(
          { atc, sendParams: {} },
          client.algod,
        );
        return {
          ...result,
          returns: result.returns?.map((val, i) =>
            resultMappers[i] !== undefined
              ? resultMappers[i]!(val.returnValue)
              : val.returnValue,
          ),
        };
      },
    } as unknown as MerkleTreeComposer;
  }
}
export type MerkleTreeComposer<TReturns extends [...any[]] = []> = {
  /**
   * Calls the verify(byte[],byte[33][3])void ABI method.
   *
   * @param args The arguments for the contract call
   * @param params Any additional parameters for the call
   * @returns The typed transaction composer so you can fluently chain multiple calls or call execute to execute all queued up transactions
   */
  verify(
    args: MethodArgs<"verify(byte[],byte[33][3])void">,
    params?: AppClientCallCoreParams & CoreAppCallArgs,
  ): MerkleTreeComposer<
    [...TReturns, MethodReturn<"verify(byte[],byte[33][3])void">]
  >;

  /**
   * Calls the appendLeaf(byte[],byte[33][3])void ABI method.
   *
   * @param args The arguments for the contract call
   * @param params Any additional parameters for the call
   * @returns The typed transaction composer so you can fluently chain multiple calls or call execute to execute all queued up transactions
   */
  appendLeaf(
    args: MethodArgs<"appendLeaf(byte[],byte[33][3])void">,
    params?: AppClientCallCoreParams & CoreAppCallArgs,
  ): MerkleTreeComposer<
    [...TReturns, MethodReturn<"appendLeaf(byte[],byte[33][3])void">]
  >;

  /**
   * Calls the updateLeaf(byte[],byte[],byte[33][3])void ABI method.
   *
   * @param args The arguments for the contract call
   * @param params Any additional parameters for the call
   * @returns The typed transaction composer so you can fluently chain multiple calls or call execute to execute all queued up transactions
   */
  updateLeaf(
    args: MethodArgs<"updateLeaf(byte[],byte[],byte[33][3])void">,
    params?: AppClientCallCoreParams & CoreAppCallArgs,
  ): MerkleTreeComposer<
    [...TReturns, MethodReturn<"updateLeaf(byte[],byte[],byte[33][3])void">]
  >;

  /**
   * Gets available delete methods
   */
  readonly delete: {
    /**
     * Deletes an existing instance of the MerkleTree smart contract using the deleteApplication()void ABI method.
     *
     * @param args The arguments for the smart contract call
     * @param params Any additional parameters for the call
     * @returns The typed transaction composer so you can fluently chain multiple calls or call execute to execute all queued up transactions
     */
    deleteApplication(
      args: MethodArgs<"deleteApplication()void">,
      params?: AppClientCallCoreParams,
    ): MerkleTreeComposer<
      [...TReturns, MethodReturn<"deleteApplication()void">]
    >;
  };

  /**
   * Makes a clear_state call to an existing instance of the MerkleTree smart contract.
   *
   * @param args The arguments for the bare call
   * @returns The typed transaction composer so you can fluently chain multiple calls or call execute to execute all queued up transactions
   */
  clearState(
    args?: BareCallArgs & AppClientCallCoreParams & CoreAppCallArgs,
  ): MerkleTreeComposer<[...TReturns, undefined]>;

  /**
   * Adds a transaction to the composer
   *
   * @param txn One of: A TransactionWithSigner object (returned as is), a TransactionToSign object (signer is obtained from the signer property), a Transaction object (signer is extracted from the defaultSender parameter), an async SendTransactionResult returned by one of algokit utils helpers (signer is obtained from the defaultSender parameter)
   * @param defaultSender The default sender to be used to obtain a signer where the object provided to the transaction parameter does not include a signer.
   */
  addTransaction(
    txn:
      | TransactionWithSigner
      | TransactionToSign
      | Transaction
      | Promise<SendTransactionResult>,
    defaultSender?: SendTransactionFrom,
  ): MerkleTreeComposer<TReturns>;
  /**
   * Returns the underlying AtomicTransactionComposer instance
   */
  atc(): Promise<AtomicTransactionComposer>;
  /**
   * Simulates the transaction group and returns the result
   */
  simulate(): Promise<MerkleTreeComposerSimulateResult>;
  /**
   * Executes the transaction group and returns the results
   */
  execute(): Promise<MerkleTreeComposerResults<TReturns>>;
};
export type MerkleTreeComposerSimulateResult = {
  methodResults: ABIResult[];
  simulateResponse: modelsv2.SimulateResponse;
};
export type MerkleTreeComposerResults<TReturns extends [...any[]]> = {
  returns: TReturns;
  groupId: string;
  txIds: string[];
  transactions: Transaction[];
};
